<style>
  /* CSS Reset for WordPress compatibility - LEFT BANNER */
  .aff-banner-advertnative-left,
  .aff-banner-advertnative-left * {
    box-sizing: border-box !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  .aff-banner-advertnative-left {
    position: fixed !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    z-index: 99999 !important;
    cursor: pointer !important;
  }

  .aff-banner-advertnative-left img {
    width: 120px !important;
    height: 120px !important;
    border-radius: 0 !important;
    display: block !important;
    object-fit: contain;
  }

  .aff-banner-advertnative-left .aff-banner-advertnative-close-left {
    position: absolute;
    top: -8px;
    right: -8px;
    background: #ff6b6b;
    color: #fff;
    border: 2px solid #fff;
    border-radius: 50% !important;
    width: 24px !important;
    height: 24px !important;
    font-size: 16px !important;
    font-weight: bold !important;
    line-height: 20px !important;
    cursor: pointer;
    z-index: 100000;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin: 0 !important;
    padding: 0 !important;
    box-sizing: border-box !important;
  }

  /* Removed hover and animation effects for a static banner */

  /* Mobile responsive - Thu nhỏ banner trên điện thoại */
  @media only screen and (max-width: 768px) {
    .aff-banner-advertnative-left::before {
      width: 150px !important;
      height: 150px !important;
    }

    .aff-banner-advertnative-left img {
      width: 150px !important;
      height: 150px !important;
    }

    .aff-banner-advertnative-left .aff-banner-advertnative-close-left {
      width: 20px !important;
      height: 20px !important;
      font-size: 14px !important;
      line-height: 16px !important;
      top: -6px !important;
      right: -6px !important;
    }
  }

  /* Extra small mobile - Thu nhỏ hơn nữa */
  @media only screen and (max-width: 480px) {
    .aff-banner-advertnative-left::before {
      width: 100px !important;
      height: 130px !important;
    }

    .aff-banner-advertnative-left img {
      width: 100px !important;
      height: 100px !important;
    }

    .aff-banner-advertnative-left .aff-banner-advertnative-close-left {
      width: 18px !important;
      height: 18px !important;
      font-size: 12px !important;
      line-height: 14px !important;
      top: -5px !important;
      right: -5px !important;
    }
  }

</style>

<!-- Banner bên trái -->
<div class="aff-banner-advertnative-left" id="affBannerAdvertnativeLeft">
  <img src="https://ik.imagekit.io/blgqpamjtp/logo.png" alt="Flash Sale">
  <button class="aff-banner-advertnative-close-left" id="affBannerAdvertnativeCloseLeft">×</button>
</div>

<script>
(function(){
  // Extract parameters from URL path: /ads/left.html/ref_code/image_url
  const pathParts = window.location.pathname.split('/').filter(p => p);
  let refCode = '';
  let imageUrl = 'https://ik.imagekit.io/blgqpamjtp/logo.png';
  
  // Find the index of left.html in the path
  const htmlIndex = pathParts.findIndex(p => p.includes('left.html'));
  if (htmlIndex !== -1) {
    if (pathParts[htmlIndex + 1]) {
      refCode = pathParts[htmlIndex + 1];
    }
    if (pathParts[htmlIndex + 2]) {
      // Reconstruct image_url (may contain slashes)
      imageUrl = decodeURIComponent(pathParts.slice(htmlIndex + 2).join('/'));
    }
  }

  const bannerLeft = document.getElementById('affBannerAdvertnativeLeft');
  const closeBtnLeft = document.getElementById('affBannerAdvertnativeCloseLeft');
  const imgElement = bannerLeft.querySelector('img');
  
  // Set image URL if provided
  if (imageUrl) {
    imgElement.src = imageUrl;
  }
  
  // Build link with ref_code
  const link = refCode ? `https://s.shopee.vn/${refCode}` : 'https://s.shopee.vn/5VMxs78ckR';
  const clickKeyLeft = 'affBannerAdvertnativeClickedLeft';

  bannerLeft.addEventListener('click', () => {
    if (!sessionStorage.getItem(clickKeyLeft)) {
      sessionStorage.setItem(clickKeyLeft, 'clicked');
      window.open(link, '_blank');
    } else {
      bannerLeft.remove();
    }
  });

  closeBtnLeft.addEventListener('click', (e) => {
    e.stopPropagation();
    e.preventDefault();

    const closeKeyLeft = 'affBannerAdvertnativeClosedLeft';

    if (!sessionStorage.getItem(closeKeyLeft)) {
      sessionStorage.setItem(closeKeyLeft, 'clicked');
      window.open(link, '_blank');
    } else {
      bannerLeft.remove();
    }
  });

})();
</script>

